function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t=document.querySelector("tbody"),n=document.querySelector("thead"),r="";t.querySelectorAll("tr").forEach(function(e){e.addEventListener("click",function(e){var t=document.querySelector(".active");t&&t.classList.remove("active"),e.currentTarget.classList.add("active")})});var a=document.createElement("form");a.classList.add("new-employee-form");var o=document.createElement("label"),l=document.createElement("label"),u=document.createElement("label"),i=document.createElement("label"),c=document.createElement("label"),d=document.createElement("input"),m=document.createElement("input"),s=document.createElement("input"),p=document.createElement("input"),v=document.createElement("button");o.textContent="Name:",l.textContent="Position:",u.textContent="Office:",i.textContent="Age:",c.textContent="Salary:",d.setAttribute("data-qa","name"),d.setAttribute("name","name"),d.setAttribute("type","text"),d.required=!0,o.appendChild(d),m.setAttribute("data-qa","position"),m.setAttribute("name","position"),m.required=!0,m.setAttribute("type","text"),l.appendChild(m);var b=function(){var e=document.createElement("option"),t=document.createElement("option"),n=document.createElement("option"),r=document.createElement("option"),a=document.createElement("option"),o=document.createElement("option");return f.required=!0,e.textContent="Tokyo",e.setAttribute("value","Tokyo"),t.textContent="Singapore",t.setAttribute("value","Singapore"),n.textContent="London",n.setAttribute("value","London"),r.textContent="New York",r.setAttribute("value","New York"),a.textContent="Edinburgh",a.setAttribute("value","Edinburgh"),o.textContent="San Francisco",o.setAttribute("value","San Francisco"),[e,t,n,r,a,o]},f=document.createElement("select");f.setAttribute("data-qa","office"),f.setAttribute("name","office"),b().forEach(function(e){f.appendChild(e)}),u.append(f),s.setAttribute("data-qa","age"),s.setAttribute("name","age"),s.setAttribute("type","number"),i.appendChild(s),s.required=!0,p.setAttribute("data-qa","salary"),p.setAttribute("name","salary"),p.setAttribute("type","number"),p.required=!0,c.appendChild(p),v.textContent="Save to table",v.setAttribute("type","submit"),a.appendChild(o),a.appendChild(l),a.appendChild(u),a.appendChild(i),a.appendChild(c),a.appendChild(v),a.setAttribute("type","submit"),document.body.append(a),a.addEventListener("submit",function(e){e.preventDefault();var n=document.createElement("tr"),r=document.createElement("td"),o=document.createElement("td"),l=document.createElement("td"),u=document.createElement("td"),i=document.createElement("td"),c=document.createElement("div");c.setAttribute("data-qa","notification"),c.setAttribute("class","notification"),c.style.position="absolute",x()?h(c):y(c),document.body.append(c),"error"===c.getAttribute("data-qa")&&(c.style.background="rgb(153, 41, 26)",setTimeout(function(){c.style.display="none"},4e3)),r.textContent=d.value,o.textContent=m.value,l.textContent=f.value,u.textContent=s.value,i.textContent="$".concat((+p.value).toLocaleString("en-US")),n.append(r,o,l,u,i),setTimeout(function(){c.style.display="none"},4e3),E()&&(t.append(n),a.reset())}),n.addEventListener("click",function(t){var n,a=document.querySelector("tbody"),o=function(t){if(Array.isArray(t))return e(t)}(n=a.querySelectorAll("tr"))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=t.target.closest("th").textContent.toLowerCase(),u=t.target.cellIndex,i=[];a.querySelectorAll("tr").forEach(function(e){i.push(e.cells[u].textContent)});var c=o.sort(function(e,t){var n=e.cells[u].textContent,r=t.cells[u].textContent;switch(l){case"name":case"position":return n.localeCompare(r);case"age":return n-r;case"salary":return+n.replace(",","").slice(1)-+r.replace(",","").slice(1);default:return null}});l===r?(c.reverse(),r=""):r=l,a.innerHTML="",c.forEach(function(e){a.appendChild(e)})});var g="",C="";t.addEventListener("dblclick",function(e){var t=document.querySelector(".cell-input"),n=e.target.textContent;if(e.target===e.target.parentElement.children[2]){t&&(C.textContent=g,t.remove()),C=e.target,g=e.target.textContent;var r=b(),a=document.createElement("select");a.classList.add("cell-input"),a.focus(),r.forEach(function(e){a.appendChild(e)}),e.target.textContent="",e.target.append(a),a.addEventListener("change",function(t){e.target.textContent=t.currentTarget.value,a.remove()});return}t&&(C.textContent=g,t.remove());var o=document.createElement("input"),l="";e.target===e.target.parentElement.children[4]?(l=e.target.textContent.replace("$","").replace(",",""),o.setAttribute("type","number")):l=e.target.textContent,o.value=l,o.setAttribute("class","cell-input"),e.target.textContent="",e.target.append(o),o.focus(),o.onkeydown=function(t){if("Enter"===t.key){if(e.target===e.target.parentElement.children[3]&&(o.setAttribute("type","number"),o.value<18||o.value>90)){e.target.textContent=n,o.remove();return}if(e.target===e.target.parentElement.children[4]){var r=o.value.replace("$","").replace(",","");if(0>=+r){e.target.textContent=n,o.remove();return}e.target.textContent="$".concat((+r).toLocaleString("en-US")),o.remove();return}!o.value.trim()||o.value.trim().length<4?e.target.textContent=n:e.target.textContent=o.value,o.remove()}},o.onblur=function(){if(e.target===e.target.parentElement.children[3]){if(o.setAttribute("type","number"),o.value<18||o.value>90||!o.value.trim()){e.target.textContent=n,o.remove();return}e.target.textContent=o.value,o.remove();return}if(e.target===e.target.parentElement.children[4]){var t=o.value.replace("$","").replace(",","");if(0>=+t){e.target.textContent=n,o.remove();return}e.target.textContent="$".concat((+t).toLocaleString("en-US")),o.remove();return}!o.value.trim()||o.value.trim().length<4?e.target.textContent=n:e.target.textContent=o.value,o.remove()}});var y=function(e){var t=document.createElement("h2");t.style.fontWeight="900",t.style.fontSize="20px",t.textContent="Added successfully",e.style.background="rgba(10, 189, 0, 0.3)",e.classList.add("success"),e.append(t),document.body.append(e)},h=function(e){var t=document.createElement("h2"),n=document.createElement("h2"),r=document.createElement("h2");t.style.fontWeight="900",t.style.fontSize="20px",d.value.trim().length<4&&(n.textContent="Name should be at least 4"),m.value.trim()||(r.textContent="Position value is invalid"),p.value<0&&(r.textContent="salary must be greater than 0"),(s.value<18||s.value>90)&&(t.textContent="Age should be between 18 and 90 y.o."),e.append(t),e.append(n),e.append(r),e.classList.add("error")},x=function(){return s.value<18||s.value>90||p.value<0||d.value.trim().length<4||0===m.value.trim().length},E=function(){return s.value>=18&&s.value<=90&&p.value>0&&d.value.trim().length>=4&&m.value.trim().length>0};
//# sourceMappingURL=index.07c48ca8.js.map
